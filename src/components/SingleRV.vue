<template>
    <section class="fixed-class sing">
        <header>
        <div class="section-1">
            <div class="logo">
                <svg width="100" height="50" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg" class="rvezy-logo" data-v-14747582=""><path fill-rule="evenodd" clip-rule="evenodd" d="M17.2881 17.1972C17.2881 19.1396 17.2498 21.8449 14.4257 21.8449C11.6427 21.8449 9.90668 19.7356 9.90668 17.0028C9.90668 10.7988 17.5802 5.58154 26.5443 5.58154C31.2267 5.58154 36.1848 7.44082 36.1857 11.6997C36.1857 16.4433 29.1429 19.5101 29.1429 19.5101C29.1429 19.5101 30.3258 23.6002 30.9374 25.4512C31.2988 26.5456 31.7799 27.3142 32.2654 27.3142C33.2667 27.3142 34.1293 25.3088 34.2835 24.9383C34.3429 24.7959 34.5181 24.5449 34.781 24.5449C35.2264 24.5421 35.2474 25.1455 35.1589 25.4877C34.833 26.7501 32.7684 30.2998 29.6595 30.2998C27.5785 30.2998 26.3992 27.4794 25.8689 26.1851C25.3285 24.8643 24.2661 22.2128 23.8124 20.861C23.7805 20.7652 23.702 20.6337 23.5039 20.6337C23.3305 20.6337 23.2493 20.7743 23.2338 20.861C23.0877 21.6989 22.8413 23.3802 22.7181 24.2208C22.4406 26.113 21.6702 30.2769 18.0429 30.2769C16.777 30.2769 15.7081 29.439 15.7081 29.439C15.7081 29.439 17.5008 26.3549 18.3405 18.6047C18.3724 18.3125 18.403 18.0284 18.4328 17.752L18.4328 17.7519V17.7519C18.7238 15.053 18.936 13.0855 19.465 11.5199C20.0747 9.71539 21.8263 8.65843 23.4802 8.6137C25.0364 8.57172 26.5051 9.24624 26.8556 10.5241C24.5463 11.5299 23.5386 18.424 23.5058 19.0017C24.7864 19.0017 30.042 17.0831 30.042 11.6997C30.042 8.30154 27.2992 7.72012 24.4057 7.72012C17.3319 7.72012 14.077 12.837 14.077 15.348C14.077 17.6063 16.0395 17.3544 17.0055 17.2303L17.0056 17.2303C17.1136 17.2165 17.2091 17.2042 17.2881 17.1972ZM46.7472 26.9756C43.8164 29.8572 42.2565 30.2907 41.4368 30.2907C40.5725 30.2917 39.6168 29.8581 39.019 28.9855C37.1387 26.24 36.9534 21.3138 36.9534 19.7083C36.9534 15.5589 37.6699 10.181 39.5027 7.40168C39.9582 6.71164 40.5643 5.93124 42.7649 5.93124C45.7395 5.93124 46.4278 6.96812 46.4278 6.96812C46.4278 6.96812 45.5132 8.46686 44.8396 10.4065C43.5791 14.0392 41.9808 21.8168 41.6504 26.9309C41.5528 28.4488 41.7609 28.9152 42.1406 28.9152C42.5531 28.9152 43.82 28.2982 46.3493 21.4654C47.6463 17.7185 48.5672 14.1524 49.2856 10.254C49.3048 10.1052 49.2938 9.95373 49.2536 9.8086C49.2151 9.64183 49.17 9.4676 49.1241 9.29023L49.1241 9.29018C49.0167 8.87543 48.9049 8.44355 48.8621 8.04973C48.6335 5.95473 50.8479 5.96482 51.2678 5.96674L51.2973 5.96683C52.7029 5.96683 54.208 6.65596 55.0523 7.79325C55.9541 9.00721 55.8528 10.7305 55.5361 12.1279C54.0857 18.529 48.9716 24.7887 46.7472 26.9756ZM60.307 29.6209C63.4122 29.6209 66.6388 28.0191 68.1521 24.9431C68.3967 24.4465 68.3912 23.8487 67.902 23.8487C67.6729 23.8487 67.4977 23.9966 67.3315 24.2695C66.0948 26.2118 63.6842 27.8703 61.1303 27.8694C59.4299 27.8694 57.2931 26.5742 59.3322 21.0575C60.558 17.7433 61.7072 16.9976 62.1462 16.9976C63.1438 16.9976 62.6747 19.3662 62.3525 20.3903C61.8532 21.9776 60.8884 23.5794 59.5038 24.2823C59.0264 24.5241 59.0803 24.881 59.115 24.9796C59.1743 25.206 59.5029 25.3785 59.8552 25.2479C61.2051 24.8025 62.316 24.254 63.5153 23.4955C65.3883 22.3107 66.5694 20.7682 66.5694 19.2795C66.5694 17.5306 64.7877 16.5978 63.801 16.2245C62.8636 15.8694 62.0704 15.7197 60.893 15.7197C57.5423 15.7197 53.4267 18.8605 53.4258 23.4197C53.4258 28.1122 57.4729 29.6209 60.307 29.6209ZM94.9824 24.3046C94.9076 24.3849 94.8067 24.5624 94.6715 24.8005C94.1951 25.6393 93.2921 27.2292 91.597 27.9601C91.9609 26.503 92.2692 25.0467 92.5741 23.6064L92.5741 23.6063C93.1382 20.9418 93.6907 18.332 94.5617 15.8726C94.496 15.8457 94.4188 15.8075 94.328 15.7624C93.8788 15.5396 93.0946 15.1506 91.6984 15.1506C89.2838 15.1506 88.4859 18.4041 88.2065 19.5436L88.1861 19.6267C88.0535 20.1643 87.9384 20.633 87.8359 21.0505L87.8355 21.0518C87.4646 22.5621 87.2586 23.4009 86.9876 24.4004C86.5258 26.1091 85.7417 26.8731 85.4597 27.1259C85.3374 27.2354 85.2699 27.2153 85.2699 27.2153C85.1713 27.2153 85.2114 26.8831 85.2489 26.7161C85.4932 25.6266 85.7947 24.2722 86.0736 23.0197L86.0741 23.0174C86.3233 21.8983 86.5543 20.8607 86.7102 20.1662C87.3427 17.3458 86.0713 15.6499 83.511 15.6499C81.9995 15.6499 81.2008 16.0734 81.2008 16.0734C81.2008 16.0734 82.1117 17.1933 81.6106 19.7244C81.5255 20.1542 81.4023 20.6781 81.2646 21.2633L81.2644 21.2641C81.1141 21.9028 80.9466 22.6147 80.7928 23.3571C80.7928 23.3571 79.0157 25.671 77.5699 25.671C77.0213 25.671 75.5354 24.7244 74.7038 24.1905C75.0516 22.7502 75.5646 21.7699 77.3335 19.4095C77.447 19.258 77.9119 18.6815 78.3698 18.1136L78.3702 18.1132C78.8255 17.5485 79.2738 16.9926 79.3625 16.872C79.8344 16.2313 79.9102 15.46 79.9102 15.345L79.9104 15.285C79.9125 14.9101 79.9143 14.5874 79.1645 14.5874C79.1472 14.5874 79.1263 14.5867 79.1021 14.586C78.9652 14.5815 78.7232 14.5736 78.437 14.6659C78.2061 14.7408 77.9952 14.8667 77.8209 15.0338C77.6991 15.1507 77.5856 15.2767 77.4721 15.4026L77.4719 15.4028C77.372 15.5137 77.272 15.6246 77.1665 15.7293C76.8013 16.0907 76.5394 16.2304 76.2628 16.2505C75.2926 16.3226 74.3743 16.3646 72.8738 16.2139C71.4289 16.0679 69.0384 15.4573 69.0384 15.4573C69.0384 15.4573 69.0357 15.5221 69.0566 15.5969C69.4245 17.0117 69.5185 18.4803 69.3332 19.9288C69.3195 19.9946 69.3277 20.063 69.356 20.1242C69.3998 20.2182 70.1173 20.8982 71.7201 21.2578C72.6429 21.465 74.1854 21.4814 74.1854 21.4814C74.1854 21.4814 73.9307 22.6954 73.2973 23.2522C73.2535 23.2823 73.2024 23.3024 73.1485 23.3097C73.0947 23.317 73.0399 23.3106 72.9897 23.2932C72.8851 23.2561 72.7681 23.2057 72.6417 23.1513C72.2715 22.9919 71.8204 22.7976 71.3632 22.7976C70.015 22.7976 69.2502 25.2228 69.2502 26.6896C69.2502 28.2504 70.2733 28.7734 70.8712 28.7643C71.2831 28.7583 71.7876 28.3339 72.1461 28.0323C72.2809 27.9189 72.395 27.8229 72.4758 27.773C72.5141 27.7494 72.5513 27.7254 72.5882 27.7016L72.5886 27.7014C72.7382 27.605 72.8834 27.5114 73.0773 27.4536C73.1671 27.5832 73.2514 27.7104 73.3336 27.8344C73.5147 28.1074 73.6853 28.3646 73.8805 28.5982C74.2575 29.0554 74.723 29.3567 75.2716 29.353C75.5281 29.3512 76.1688 29.2581 76.7502 28.8072C77.3335 28.3554 77.883 27.8643 78.3932 27.3358C78.4878 27.2425 78.604 27.125 78.7341 26.9934L78.7347 26.9927L78.7349 26.9926C79.2768 26.4446 80.0602 25.6525 80.5318 25.3405C80.5245 26.1 80.6778 26.7571 81.1396 27.1797C81.3654 27.3871 81.6176 27.557 81.9339 27.7702L81.934 27.7702C82.2902 28.0103 82.7277 28.3051 83.3001 28.7698C83.6315 29.039 84.1262 29.123 84.4256 29.123C85.0948 29.123 85.4786 28.8573 85.8202 28.6208C86.094 28.4312 86.3407 28.2604 86.6855 28.2604C86.576 29.2389 86.0238 29.8176 85.4551 30.1581C84.5688 30.6042 83.1102 30.7108 81.2774 30.8448C80.5567 30.8975 79.7781 30.9545 78.9536 31.0379C71.027 31.84 61.49 33.4962 55.7137 34.4993L54.8159 34.6552C54.3967 34.7279 53.8142 34.8361 53.0913 34.9704C46.4737 36.1998 28.091 39.6149 15.4946 37.9922C8.11267 37.0415 5.82737 34.6435 5.5168 34.3176C5.50027 34.3002 5.48933 34.2888 5.48352 34.2837C5.01162 35.389 4.64379 36.4989 4.5306 37.6974C3.94371 43.9306 11.954 44.3787 15.1486 44.4152C25.3175 44.5318 37.4562 41.727 51.1272 38.5683L51.1273 38.5683C55.5511 37.5461 60.1354 36.4869 64.8653 35.4776C72.1381 33.9259 79.1234 33.3363 79.5998 33.3052C79.8344 33.276 80.0398 33.2587 80.2233 33.2486C80.0222 33.4314 79.9005 33.5696 79.8624 33.6129L79.8536 33.6229C77.7095 36.1064 79.4501 39.794 82.8839 39.8022L82.9035 39.8023C83.3505 39.8044 85.6956 39.8156 88.469 35.9431C89.7359 34.1751 90.5428 32.3514 91.137 30.2274C91.1772 30.085 91.2712 29.9609 91.3981 29.8952C92.434 29.3585 93.4691 28.4339 94.1674 27.5029C94.9952 26.3993 95.4954 24.7984 95.5 24.509C95.5036 24.237 95.1677 24.1056 94.9824 24.3046ZM83.356 38.1637C83.6147 37.948 84.1224 37.4323 84.7486 35.9156C85.3386 34.4853 85.7228 32.8618 85.763 32.6085C84.633 33.3704 83.462 34.5982 82.8994 35.4751C82.3437 36.3408 82.1261 37.4516 82.4701 38.0894C82.6299 38.3854 83.0306 38.4343 83.356 38.1637Z" fill="#032E5A" data-v-14747582=""></path></svg>
            </div>
            <div class="filter-1">
                <div class="group-1 one">
                    <label for="where" class="search-tag">Location</label>
                    <input type="text" id="where" placeholder="where">
                </div>
                <div class="group-1 two">
                    <label for="when" class="search-tag">Date</label>
                    <input type="text" id="when" value="When?" readonly>
                </div>
                <div class="group-1 three" @click="handleGuestClick">
                    <label for="who" class="search-tag">Guests</label>
                    <input type="text" id="who" value="Who's going?" readonly>
                </div>
            </div>
        </div>
    </header>
  
    </section>
    <section class="single-container">
<section class="single-container-one">
    <h2 class="single-container-one-title">{{ listing.RVName }}</h2>
    <div>
        <span class="single-container-one-rating">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-14 mr-1"><path fill="currentColor" d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z" class=""></path></svg>
            {{ listing.AverageRating }}
        </span>
        <span class="single-container-one-location">  {{ listing.City }}</span>, <span class="single-container-one-location">{{ listing.Country }}</span>
        <span>{{ listing.RVType }}</span> <span>sleep {{ listing.Guests }}</span>
    </div>
    <div class="gallery">
        <div class="main-gallery">
            <img :src="changeToWebp(listing.Photos[0].Path)" :alt="listing.RVName">
        </div>
        <div class="sub-gallery">
            <img :src="changeToWebp(listing.Photos[1].Path)" :alt="listing.RVName">
            <img :src="changeToWebp(listing.Photos[2].Path)" :alt="listing.RVName">
        </div>
    </div>
    <div class="trucks-pet">
        <div>
            <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="truck-fast" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon svg-inline--fa fa-truck-fast fa-w-18" data-v-5545de2a=""><path fill="currentColor" d="M96 64V96H240C248.8 96 256 103.2 256 112C256 120.8 248.8 128 240 128H16C7.164 128 0 120.8 0 112C0 103.2 7.164 96 16 96H64V64C64 28.65 92.65 0 128 0H352C387.3 0 416 28.65 416 64V96H481.3C495.3 96 508.6 102.1 517.7 112.8L596.4 204.6C603.9 213.3 608 224.4 608 235.8V384H624C632.8 384 640 391.2 640 400C640 408.8 632.8 416 624 416H576C576 469 533 512 480 512C426.1 512 384 469 384 416H255.1C255.1 469 213 512 159.1 512C106.1 512 63.1 469 63.1 416V288H95.1V344.4C112.1 329.2 135.4 320 159.1 320C201.8 320 237.4 346.7 250.5 384H384V64C384 46.33 369.7 32 352 32H127.1C110.3 32 95.1 46.33 95.1 64H96zM493.4 133.6C490.4 130 485.1 128 481.3 128H416V224H570.9L493.4 133.6zM416 256V344.4C432.1 329.2 455.4 320 480 320C521.8 320 557.4 346.7 570.5 384H576V256H416zM160 352C124.7 352 96 380.7 96 416C96 451.3 124.7 480 160 480C195.3 480 224 451.3 224 416C224 380.7 195.3 352 160 352zM480 480C515.3 480 544 451.3 544 416C544 380.7 515.3 352 480 352C444.7 352 416 380.7 416 416C416 451.3 444.7 480 480 480zM272 160C280.8 160 288 167.2 288 176C288 184.8 280.8 192 272 192H48C39.16 192 32 184.8 32 176C32 167.2 39.16 160 48 160H272zM240 224C248.8 224 256 231.2 256 240C256 248.8 248.8 256 240 256H16C7.164 256 0 248.8 0 240C0 231.2 7.164 224 16 224H240z" data-v-5545de2a="" class=""></path></svg>
            <span>
                <h2>No truck no problem</h2>
                <p>This host offers delivery up to 60 miles</p>
            </span>
        </div>
        <div>
            <svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="paw-simple" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon svg-inline--fa fa-paw-simple fa-w-18" data-v-5545de2a=""><path fill="currentColor" d="M96 88C96 57.07 121.1 32 152 32C182.9 32 208 57.07 208 88C208 118.9 182.9 144 152 144C121.1 144 96 118.9 96 88zM152 112C165.3 112 176 101.3 176 88C176 74.75 165.3 64 152 64C138.7 64 128 74.75 128 88C128 101.3 138.7 112 152 112zM154.5 202.9C167.7 176.6 194.6 160 224 160C253.4 160 280.3 176.6 293.5 202.9L327.2 270.5C330.7 277.3 337.2 281.1 344.6 284.1C385.9 296.4 416 334.7 416 380C416 435.2 371.2 480 316 480C294.8 480 275.2 473.4 259.1 462.2C241.7 450.2 206.3 450.2 188.9 462.2C172.8 473.4 153.2 480 132 480C76.77 480 32 435.2 32 380C32 334.7 62.12 296.4 103.4 284.1C110.8 281.1 117.3 277.3 120.8 270.5L154.5 202.9zM183.2 217.2L149.4 284.8C141.1 301.3 126.3 310.7 112.6 314.8C84.44 323.2 64 349.2 64 380C64 417.6 94.44 448 132 448C146.4 448 159.7 443.5 170.7 435.9C186.7 424.8 207.2 421.2 224 421.2C240.8 421.2 261.3 424.8 277.3 435.9C288.3 443.5 301.6 448 316 448C353.6 448 384 417.6 384 380C384 349.2 363.6 323.2 335.4 314.8C321.7 310.7 306.9 301.3 298.6 284.8L264.8 217.2C257.1 201.8 241.3 192 224 192C206.7 192 190.9 201.8 183.2 217.2V217.2zM352 88C352 118.9 326.9 144 296 144C265.1 144 240 118.9 240 88C240 57.07 265.1 32 296 32C326.9 32 352 57.07 352 88zM296 64C282.7 64 272 74.75 272 88C272 101.3 282.7 112 296 112C309.3 112 320 101.3 320 88C320 74.75 309.3 64 296 64zM336 200C336 169.1 361.1 144 392 144C422.9 144 448 169.1 448 200C448 230.9 422.9 256 392 256C361.1 256 336 230.9 336 200zM392 224C405.3 224 416 213.3 416 200C416 186.7 405.3 176 392 176C378.7 176 368 186.7 368 200C368 213.3 378.7 224 392 224zM112 200C112 230.9 86.93 256 56 256C25.07 256 0 230.9 0 200C0 169.1 25.07 144 56 144C86.93 144 112 169.1 112 200zM56 176C42.75 176 32 186.7 32 200C32 213.3 42.75 224 56 224C69.25 224 80 213.3 80 200C80 186.7 69.25 176 56 176z" data-v-5545de2a="" class=""></path></svg>

            <span>
                <h2>Pet friendly</h2>
                <p>Bring your pet along for the trip</p>
            </span>
        </div>
    </div>
    <div>
        <h2>{{ listing.RVName }}</h2>
        <section class="sleep-weight-type">
            <div>
                <h2>Sleeps</h2>
                <p>{{ listing.Guests }}</p>
            </div>
            <div>
                <h2>Weight</h2>
                <p>{{ listing.Weight }}</p>
            </div>
            <div>
                <h2>Type of RV</h2>
                <p>{{ listing.RVType }}</p>
            </div>
        </section>
    </div>
    <div>
        <h2>Rates</h2>
        <section class="daily-weekly">
            <div>
                <h2>Daily</h2>
                <p>${{ listing.AveragePrice }}/night</p>
            </div>
            <div>
                <h2>Weekly</h2>
                <p>${{ listing.DiscountedAverageNightlyPrice }}/night</p>
            </div>
        </section>
    </div>
</section>
<section class="single-container-two">
    <div>
        <h2>${{ listing.AveragePrice }} <span class="inner">/night</span> </h2>
    </div>
    <div class="single-container-two-guest">
        <h2>Guests</h2>
        <p>{{ listing.Guests }}</p>
    </div>
    <button class="check">Check Availability</button>
</section>
    </section>
</template>
<script>

export default {
    data() {
        return {
            id: this.$route.params.id,
            data: [],
            baseURL: "https://cdn-d.rvezy.com/450x300x80",
        }
    },
    methods: {
        getDatas() {
            
           // console.log(this.isLoading)
            fetch("https://api.rvezy.com/api/rvlistings/unified-search?swLat=45.224121941465604&swLng=-76.19331305664062&neLat=45.548191514007186&neLng=-75.21003668945312&SortOrder=Recommended&CurrentPage=0&FeaturedCurrentPage=0&FeaturedPageSize=5&IncludeFeatured")
            .then((response) => response.json())
            .then((data) => {
                
            
                
                const featured = data.FeaturedRVs.ListRVs
                const popular = data.PopularRVs.ListRVs
                const newData = featured.concat(popular)
                this.data = newData
             
                //console.log(this.data)
                
               
            } )
        },
        changeToWebp(url){
            const path = `${this.baseURL}${url}`
            return path.replace(".jpg", ".webp")
        },
    },
    computed: {
    listing() {
        console.log(this.data)
      return this.data.find((item) => item.RVName === this.id);
    },
  },
  created() {
        this.getDatas()
       
    }

}
</script>